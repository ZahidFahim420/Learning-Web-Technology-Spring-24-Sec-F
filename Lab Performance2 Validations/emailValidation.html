<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Validation</title>
</head>
<body>
    <h2>Email</h2>
    <input type="email" name="email" id="email" value="" onkeyup="validateEmail()">
  
    <input type="button" value="submit" name="button" id="btn" onclick="validateEmail()">
    <br>
    <p id="error"name= error value="" style="color: red;"></p>
    
    <script>
      

        function validateEmail(){
            let email = document.getElementById('email').value.trim();
            let error = document.getElementById('error');
            // Check Empty
              if (email === "") {
                error.innerText = "Email cannot be empty!";
                return false;
            }

            // Find position of @
            let atPos = email.indexOf('@');
            let dotPos = email.lastIndexOf('.');
            // Array.lastIndexOf() is the same as Array.indexOf(), but returns the position of the last occurrence of the specified element.

            // Check if @ exists and only once
            // Array.indexOf() returns -1 if the item is not found.
              if (atPos <= 0 || email.indexOf('@', atPos + 1) != -1) {
                error.innerText = "Invalid Email: '@' is missing or repeated!";
                return false;
            }

            // Check if . exists after @
              if (dotPos < atPos + 2) {
                error.innerText = "Invalid Email: '.' should be after '@'!";
                return false;
            }

            // Check if . is not at the end
              if (dotPos === email.length - 1) {
                error.innerText = "Invalid Email: '.' cannot be at the end!";
                return false;
            }
            
            error.innerHTML = "";
            return true;

        }
       


    </script>
    
</body>
</html>